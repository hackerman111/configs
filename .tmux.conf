# -----------------------------------------------------------------------------
# SECTION 1: CORE CONFIGURATION
# -----------------------------------------------------------------------------

# Set the prefix to C-Space.
# The default C-b is removed.

# Set the default terminal to Kitty for best feature support (like undercurl).
# This assumes you are running tmux from within kitty.
set -g default-terminal "kitty"


unbind C-Space
set-option -g prefix C-Space
bind-key C-Space send-prefix

# Set VI-style keybindings for copy mode.
setw -g mode-keys vi
unbind g
bind g display-panes

bind s split-window -h -p 30 -c "#{pane_current_path}" \; split-window -v -c "#{pane_current_path}"
unbind d
bind -r d select-pane -L
bind -r n select-pane -R
bind -r t select-pane -U
bind -r h select-pane -D


unbind _
bind _ split-window -hc "#{pane_current_path}"
bind - split-window -vc "#{pane_current_path}"

unbind r
bind r source-file ~/.tmux.conf \; display "Config Reloaded!"

set -g pane-border-style 'fg=brightblack,bg=default'
set -g pane-active-border-style 'fg=magenta,bg=default'
set-option -g status-position top
set -g base-index 1
setw -g pane-base-index 1


# -----------------------------------------------------------------------------
# SECTION 5: PLUGINS (Managed by TPM)
# -----------------------------------------------------------------------------
# Instructions:
# 1. To install new plugins: Add a 'set -g @plugin' line.
# 2. Press `Prefix + I` (capital i) to fetch and install the plugin.
# 3. To uninstall plugins: Remove the line and press `Prefix + Alt + u`.

# -- Plugin Manager --
set -g @plugin 'tmux-plugins/tpm'

# -- Theme --
set -g @plugin 'nordtheme/tmux'

# -- Core Functionality --
set -g @plugin 'tmux-plugins/tmux-sensible'    # Sensible default settings
set -g @plugin 'christoomey/vim-tmux-navigator' # Navigate between tmux and vim panes seamlessly

# -- Session Management --
# NOTE: You have multiple session managers (sessionx, resurrect, continuum, tmuxifier).
# This can cause conflicts. It's best to choose ONE system.
# Sessionx seems to be your preferred one, so the others are commented out.
# set -g @plugin 'jimeh/tmuxifier'
# set -g @plugin 'tmux-plugins/tmux-resurrect'  # Persists tmux environment across reboots
# set -g @plugin 'tmux-plugins/tmux-continuum' # Continuously saves sessions
set -g @plugin 'omerxx/tmux-sessionx'
# I recommend using `o` if not already in use, for least key strokes when launching
set -g @sessionx-bind 'o'

# -- Utility Plugins --
set -g @plugin 'tmux-plugins/tmux-yank'        # For yanking text to clipboard
set -g @plugin 'fcsonline/tmux-thumbs'         # Select and copy text with your keyboard
set -g @plugin 'sainnhe/tmux-fzf'              # FZF integration for windows, panes, etc.
set -g @plugin 'wfxr/tmux-fzf-url'             # Open URLs from tmux via FZF
set -g @plugin 'jaclu/tmux-menus'              # Popup menus

# --- Plugin Configurations ---
# Put settings for each plugin directly below its declaration.



# fzf-url
set -g @fzf-url-fzf-options '-p 60%,30% --prompt="ï‚Ž   " --border-label=" Open URL "'
set -g @fzf-url-history-limit '2000'


# menus
set -g @menus_show_key_hints 'Yes'
set -g @menus_display_commands 'Yes'

# IMPORTANT: Initialize TPM. This line must be at the very end.
run '~/.tmux/plugins/tpm/tpm 
